
For Emitter:

you must START with:
*     yaml_stream_start_event_initialize   (&event, YAML_UTF8_ENCODING);
*     yaml_document_start_event_initialize (&event, NULL, NULL, NULL, 0);
*     yaml_sequence_start_event_initialize (&event, NULL, (yaml_char_t *)YAML_SEQ_TAG, 1, YAML_ANY_SEQUENCE_STYLE);
*     yaml_mapping_start_event_initialize  (&event, NULL, (yaml_char_t *)YAML_MAP_TAG, 1, YAML_ANY_MAPPING_STYLE);

you must END of course:
*     yaml_mapping_end_event_initialize  (&event);
*     yaml_sequence_end_event_initialize (&event);
*     yaml_document_end_event_initialize (&event, 0);
*     yaml_stream_end_event_initialize   (&event);


For *libyaml* code to compile in CMakeLists.txt :

##-- in CMakeLists.txt --##

	##-- everything needed for YAML: 'libyaml-dev' used
	# w/o Anaconda, use this other than the 2 below lines!
	#FIND_PATH(LIBYAML_INCLUDE_DIR NAMES yaml.h) 
	#FIND_LIBRARY(LIBYAML_LIBRARIES NAMES yaml libyaml)
	set(LIBYAML_INCLUDE_DIR /usr/include)
	set(LIBYAML_LIBRARIES /usr/lib/x86_64-linux-gnu/libyaml.so)
	
	INCLUDE(FindPackageHandleStandardArgs)
	FIND_PACKAGE_HANDLE_STANDARD_ARGS(Yaml DEFAULT_MSG LIBYAML_LIBRARIES LIBYAML_INCLUDE_DIR)
	MARK_AS_ADVANCED(LIBYAML_INCLUDE_DIR LIBYAML_LIBRARIES)
	#message("[debug] LIBYAML_INCLUDE_DIR = ${LIBYAML_INCLUDE_DIR}")
	#message("[debug] LIBYAML_LIBRARIES = ${LIBYAML_LIBRARIES}")
	
	#include_directories( ${YAML_CPP_INCLUDE_DIR} )
	
	add_executable(ymlReader ${PROJECT_SOURCE_DIR}/src/ymlReader.cxx)
	target_link_libraries(ymlReader ${ROOT_LIBRARIES} ${LIBYAML_LIBRARIES})
	list(APPEND INSTALL_EXE_TARGETS ymlReader)

##-- in CMakeLists.txt --##



For yaml-cpp code to compile in CMakeLists.txt :

##-- in CMakeLists.txt --##

    find_package(yaml-cpp REQUIRED)
    include_directories( ${YAML_CPP_INCLUDE_DIR} )

    add_executable(ymlEmitter ${PROJECT_SOURCE_DIR}/src/ymlEmitter.cxx)
    target_link_libraries(ymlEmitter ${ROOT_LIBRARIES} ${YAML_CPP_LIBRARIES})
    list(APPEND INSTALL_EXE_TARGETS ymlEmitter)

    add_executable(ymlParser ${PROJECT_SOURCE_DIR}/src/ymlParser.cxx)
    target_link_libraries(ymlParser ${ROOT_LIBRARIES} ${YAML_CPP_LIBRARIES})
    list(APPEND INSTALL_EXE_TARGETS ymlParser)

##-- in CMakeLists.txt --##